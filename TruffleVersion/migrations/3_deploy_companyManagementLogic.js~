
var ContractManagementLogic = artifacts.require("./CompanyManagementLogic.sol");
var ContractManagementData = artifacts.require("./CompanyManagementData.sol");

module.exports = async function(deployer) {
	let DataInstance = await ContractManagementData.deployed();
	console.log("CompanyManagementData address is: " + DataInstance.address); 
	return deployer.deploy(ContractManagementLogic,DataInstance.address).then(async function(DataInstance){
		console.log("CompanyManagementData address is: " + DataInstance.address);
		let LogicInstance = await ContractManagementLogic.deployed(); 
		return [DataInstance,LogicInstance];
}).then(async function(data){
console.log("CompanyManagementData address is: " + data[0].address); 
console.log("CompanyManagementLogic address is: " + data[1].address); 
	return DataInstance.setOwner(data[1]);
})
	
	
	//then we need to allow the contractManagementLogic to be the owner of the data contract.

	
};

